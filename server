S'ha iniciat l'execuciÃ³ de script a ds 26 feb 2011 13:22:53 CET
]0;zero@zero-laptop: ~/Projects/nopintasnadazero@zero-laptop:~/Projects/nopintasnada$ ./script/server 
=> Booting WEBrick
=> Rails 2.3.8 application starting on http://0.0.0.0:3000
=> Call with -d to detach
=> Ctrl-C to shutdown server
[2011-02-26 13:23:00] INFO  WEBrick 1.3.1
[2011-02-26 13:23:00] INFO  ruby 1.8.7 (2010-01-10) [x86_64-linux]
[2011-02-26 13:23:05] INFO  WEBrick::HTTPServer#start: pid=3158 port=3000
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2011-02-26 13:24:15) [GET]
Redirected to http://localhost:3000/admin/signin
Filter chain halted as [:check_authentication] rendered_or_redirected.
Completed in 6ms (DB: 0) | 302 Found [http://localhost/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#signin (for 127.0.0.1 at 2011-02-26 13:24:15) [GET]
Rendering template within layouts/admin
Rendering admin/signin
Completed in 20ms (View: 18, DB: 0) | 200 OK [http://localhost/admin/signin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#signin (for 127.0.0.1 at 2011-02-26 13:24:25) [POST]
  Parameters: {"commit"=>"Sign in", "authenticity_token"=>"V0selDG33Yeb/42pTj4Wn+FDbFNGwgWmhoKLyvdR2xo=", "username"=>"nopintasweb", "password"=>"mj69gs"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (username = 'nopintasweb') LIMIT 1[0m
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m

RuntimeError (Username or password invalid):
  app/models/user.rb:13:in `authenticate'
  app/controllers/admin_controller.rb:18:in `signin'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (33.1ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#signin (for 127.0.0.1 at 2011-02-26 13:26:09) [POST]
  Parameters: {"commit"=>"Sign in", "authenticity_token"=>"V0selDG33Yeb/42pTj4Wn+FDbFNGwgWmhoKLyvdR2xo=", "username"=>"nopintasweb", "password"=>"mj69Gescot"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (username = 'nopintasweb') LIMIT 1[0m
  [4;35;1mUser Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
Redirected to http://localhost:3000/admin
Completed in 11ms (DB: 1) | 302 Found [http://localhost/admin/signin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2011-02-26 13:26:10) [GET]
Rendering template within layouts/admin
Rendering admin/index
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://localhost/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 13:26:12) [GET]
Rendering template within layouts/admin
Rendering admin/new_promocode
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://localhost/admin/new_promocode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 13:26:53) [GET]
Rendering template within layouts/admin
Rendering admin/new_promocode
Completed in 11ms (View: 8, DB: 0) | 200 OK [http://localhost/admin/new_promocode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 13:26:54) [GET]
Rendering template within layouts/admin
Rendering admin/new_promocode
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/admin/new_promocode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#list_products (for 127.0.0.1 at 2011-02-26 13:26:56) [GET]
  [4;36;1mProduct Load (18.0ms)[0m   [0;1mSELECT * FROM `products` ORDER BY model[0m
Rendering template within layouts/admin
Rendering admin/list_products
  [4;35;1mProduct Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 66ms (View: 39, DB: 20) | 200 OK [http://localhost/admin/list_products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2011-02-26 13:26:58) [GET]
Rendering template within layouts/admin
Rendering admin/index
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 13:26:59) [GET]
Rendering template within layouts/admin
Rendering admin/new_promocode
Completed in 6ms (View: 3, DB: 0) | 200 OK [http://localhost/admin/new_promocode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 13:28:02) [GET]
Rendering template within layouts/admin
Rendering admin/new_promocode
Completed in 6ms (View: 3, DB: 0) | 200 OK [http://localhost/admin/new_promocode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 13:28:03) [GET]
Rendering template within layouts/admin
Rendering admin/new_promocode
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/admin/new_promocode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2011-02-26 13:28:05) [GET]
Rendering template within layouts/admin
Rendering admin/index
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 13:28:06) [GET]
Rendering template within layouts/admin
Rendering admin/new_promocode
Completed in 6ms (View: 3, DB: 0) | 200 OK [http://localhost/admin/new_promocode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 13:30:35) [GET]
Rendering template within layouts/admin
Rendering admin/new_promocode
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/admin/new_promocode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 13:30:38) [GET]
Rendering template within layouts/admin
Rendering admin/new_promocode
Completed in 6ms (View: 3, DB: 0) | 200 OK [http://localhost/admin/new_promocode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2011-02-26 13:30:42) [GET]
Rendering template within layouts/admin
Rendering admin/index
Completed in 6ms (View: 3, DB: 0) | 200 OK [http://localhost/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 13:31:36) [GET]
Rendering template within layouts/admin
Rendering admin/new_promocode
Completed in 6ms (View: 3, DB: 0) | 200 OK [http://localhost/admin/new_promocode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2011-02-26 13:31:38) [GET]
Rendering template within layouts/admin
Rendering admin/index
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 13:32:41) [GET]
Rendering template within layouts/admin
Rendering admin/new_promocode
Completed in 10ms (View: 7, DB: 0) | 200 OK [http://localhost/admin/new_promocode]
^C[2011-02-26 13:32:59] INFO  going to shutdown ...
[2011-02-26 13:32:59] INFO  WEBrick::HTTPServer#start done.
Exiting
]0;zero@zero-laptop: ~/Projects/nopintasnadazero@zero-laptop:~/Projects/nopintasnada$ ./script/server --debugger
=> Booting WEBrick
=> Rails 2.3.8 application starting on http://0.0.0.0:3000
=> Debugger enabled
=> Call with -d to detach
=> Ctrl-C to shutdown server
[2011-02-26 13:33:06] INFO  WEBrick 1.3.1
[2011-02-26 13:33:06] INFO  ruby 1.8.7 (2010-01-10) [x86_64-linux]
[2011-02-26 13:33:11] INFO  WEBrick::HTTPServer#start: pid=3261 port=3000
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 13:33:12) [GET]
Rendering template within layouts/admin
Rendering admin/new_promocode
Completed in 25ms (View: 21, DB: 0) | 200 OK [http://localhost/admin/new_promocode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2011-02-26 13:33:15) [GET]
Rendering template within layouts/admin
Rendering admin/index
Completed in 14ms (View: 11, DB: 0) | 200 OK [http://localhost/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 13:33:16) [GET]
Rendering template within layouts/admin
Rendering admin/new_promocode
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/admin/new_promocode]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 13:33:45) [GET]
Rendering template within layouts/admin
Rendering admin/new_promocode
Completed in 8ms (View: 5, DB: 0) | 200 OK [http://localhost/admin/new_promocode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 13:33:46) [GET]
Rendering template within layouts/admin
Rendering admin/new_promocode
Completed in 8ms (View: 5, DB: 0) | 200 OK [http://localhost/admin/new_promocode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 13:33:47) [GET]
Rendering template within layouts/admin
Rendering admin/new_promocode
Completed in 8ms (View: 5, DB: 0) | 200 OK [http://localhost/admin/new_promocode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 13:33:47) [GET]
Rendering template within layouts/admin
Rendering admin/new_promocode
Completed in 9ms (View: 5, DB: 0) | 200 OK [http://localhost/admin/new_promocode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 13:33:47) [GET]
Rendering template within layouts/admin
Rendering admin/new_promocode
Completed in 9ms (View: 6, DB: 0) | 200 OK [http://localhost/admin/new_promocode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 13:49:38) [GET]
Rendering template within layouts/admin
Rendering admin/new_promocode
Completed in 8ms (View: 5, DB: 0) | 200 OK [http://localhost/admin/new_promocode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 13:49:43) [GET]
Rendering template within layouts/admin
Rendering admin/new_promocode
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/admin/new_promocode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 13:50:17) [GET]
  [4;36;1mPromocode Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `promocodes`[0m

NameError (undefined local variable or method `value' for #<AdminController:0x7f113b9b9d28>):
  app/controllers/admin_controller.rb:119:in `new_promocode'
  app/controllers/admin_controller.rb:119:in `times'
  app/controllers/admin_controller.rb:119:in `new_promocode'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (52.2ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 13:50:59) [GET]
  [4;35;1mPromocode Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `promocodes`[0m

NoMethodError (undefined method `code' for nil:NilClass):
  app/controllers/admin_controller.rb:119:in `new_promocode'
  app/controllers/admin_controller.rb:119:in `times'
  app/controllers/admin_controller.rb:119:in `new_promocode'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (52.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332
default_render unless performed?
(rdb:293) c
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 13:51:16) [GET]
  [4;36;1mPromocode Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `promocodes`[0m
Rendering template within layouts/admin
Rendering admin/new_promocode

ActionView::TemplateError (undefined method `days' for #<Promocode:0x7f113b938110>) on line #6 of app/views/admin/new_promocode.html.erb:
3: 
4: <% form_tag :action=>:new_promo,:id=>@prc do  %>
5: 	<tr><td>Code:</td><td> <%=text_field :prc, :code,:disabled=>true%></td></tr>
6: 	<tr><td>Dias de validez:</td><td><%=text_field :prc, :days%></td></tr>
7: 	<tr><td></td><td><%= submit_tag "Actualizar" %></td></tr> 
8: <% end %>
9: 

    app/views/admin/new_promocode.html.erb:6
    app/views/admin/new_promocode.html.erb:4
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (75.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (100.9ms)[0m   [0;1mDROP TABLE `promocodes`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20110226120010'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW FIELDS FROM `buyers`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mdescribe `buyers`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `buyers`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `configurations`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mdescribe `configurations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `configurations`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW FIELDS FROM `contacts`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mdescribe `contacts`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `contacts`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 13:52:50) [GET]
  [4;35;1mPromocode Columns (0.0ms)[0m   [0mMysql::Error: Table 'nopintasnada_development.promocodes' doesn't exist: SHOW FIELDS FROM `promocodes`[0m

ActiveRecord::StatementInvalid (Mysql::Error: Table 'nopintasnada_development.promocodes' doesn't exist: SHOW FIELDS FROM `promocodes`):
  app/controllers/admin_controller.rb:118:in `new'
  app/controllers/admin_controller.rb:118:in `new_promocode'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (57.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 13:54:12) [GET]
  [4;36;1mPromocode Columns (0.0ms)[0m   [0;1mMysql::Error: Table 'nopintasnada_development.promocodes' doesn't exist: SHOW FIELDS FROM `promocodes`[0m

ActiveRecord::StatementInvalid (Mysql::Error: Table 'nopintasnada_development.promocodes' doesn't exist: SHOW FIELDS FROM `promocodes`):
  app/controllers/admin_controller.rb:118:in `new'
  app/controllers/admin_controller.rb:118:in `new_promocode'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (55.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20100606163816)
Migrating to CreateContacts (20100718212508)
Migrating to CreateBuyers (20100719214714)
Migrating to AddUserTable (20101012111929)
Migrating to Products (20101107122055)
Migrating to CreateConfigurations (20101108225622)
Migrating to CreatePromocodes (20110226120010)
  [4;36;1mSQL (146.3ms)[0m   [0;1mCREATE TABLE `promocodes` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `end_date` date, `state` tinyint(1), `code` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20110226120010')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW FIELDS FROM `buyers`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mdescribe `buyers`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `buyers`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW FIELDS FROM `configurations`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mdescribe `configurations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `configurations`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `contacts`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mdescribe `contacts`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `contacts`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW FIELDS FROM `promocodes`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mdescribe `promocodes`[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW KEYS FROM `promocodes`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (51.7ms)[0m   [0;1mDROP TABLE `promocodes`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20110226120010'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW FIELDS FROM `buyers`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mdescribe `buyers`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `buyers`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `configurations`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mdescribe `configurations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `configurations`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `contacts`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mdescribe `contacts`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `contacts`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20100606163816)
Migrating to CreateContacts (20100718212508)
Migrating to CreateBuyers (20100719214714)
Migrating to AddUserTable (20101012111929)
Migrating to Products (20101107122055)
Migrating to CreateConfigurations (20101108225622)
Migrating to CreatePromocodes (20110226125508)
  [4;36;1mSQL (176.6ms)[0m   [0;1mCREATE TABLE `promocodes` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `end_data` date, `state` tinyint(1), `days` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.9ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20110226125508')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW FIELDS FROM `buyers`[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mdescribe `buyers`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `buyers`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `configurations`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mdescribe `configurations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `configurations`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `contacts`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mdescribe `contacts`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `contacts`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.8ms)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `promocodes`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mdescribe `promocodes`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `promocodes`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 13:55:23) [GET]
  [4;35;1mPromocode Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `promocodes`[0m

NoMethodError (undefined method `code=' for #<Promocode:0x7f113b6f53d0>):
  app/controllers/admin_controller.rb:119:in `new_promocode'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (127.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332
default_render unless performed?
(rdb:362) c
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (90.7ms)[0m   [0;1mDROP TABLE `promocodes`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20110226125508'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW FIELDS FROM `buyers`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mdescribe `buyers`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `buyers`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW FIELDS FROM `configurations`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mdescribe `configurations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `configurations`[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW FIELDS FROM `contacts`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mdescribe `contacts`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `contacts`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20100606163816)
Migrating to CreateContacts (20100718212508)
Migrating to CreateBuyers (20100719214714)
Migrating to AddUserTable (20101012111929)
Migrating to Products (20101107122055)
Migrating to CreateConfigurations (20101108225622)
Migrating to CreatePromocodes (20110226125654)
  [4;36;1mSQL (180.4ms)[0m   [0;1mCREATE TABLE `promocodes` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `end_data` date, `state` tinyint(1), `days` int(11), `code` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20110226125654')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW FIELDS FROM `buyers`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mdescribe `buyers`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `buyers`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `configurations`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mdescribe `configurations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW KEYS FROM `configurations`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW FIELDS FROM `contacts`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mdescribe `contacts`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `contacts`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW FIELDS FROM `promocodes`[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mdescribe `promocodes`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `promocodes`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 13:57:07) [GET]
  [4;36;1mPromocode Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `promocodes`[0m
Rendering template within layouts/admin
Rendering admin/new_promocode
Completed in 9954ms (View: 11, DB: 1) | 200 OK [http://localhost/admin/new_promocode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (135.9ms)[0m   [0;1mDROP TABLE `promocodes`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20110226125654'[0m
  [4;36;1mSQL (4.1ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW FIELDS FROM `buyers`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mdescribe `buyers`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `buyers`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW FIELDS FROM `configurations`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mdescribe `configurations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `configurations`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW FIELDS FROM `contacts`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mdescribe `contacts`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `contacts`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20100606163816)
Migrating to CreateContacts (20100718212508)
Migrating to CreateBuyers (20100719214714)
Migrating to AddUserTable (20101012111929)
Migrating to Products (20101107122055)
Migrating to CreateConfigurations (20101108225622)
Migrating to CreatePromocodes (20110226130513)
  [4;36;1mSQL (194.6ms)[0m   [0;1mCREATE TABLE `promocodes` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `end_data` date, `state` tinyint(1), `days` int(11), `code` varchar(255), `start_data` date, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20110226130513')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `buyers`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mdescribe `buyers`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `buyers`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `configurations`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mdescribe `configurations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `configurations`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW FIELDS FROM `contacts`[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mdescribe `contacts`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `contacts`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW FIELDS FROM `promocodes`[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mdescribe `promocodes`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `promocodes`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (83.0ms)[0m   [0;1mDROP TABLE `promocodes`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20110226130513'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW FIELDS FROM `buyers`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mdescribe `buyers`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `buyers`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW FIELDS FROM `configurations`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mdescribe `configurations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW KEYS FROM `configurations`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW FIELDS FROM `contacts`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mdescribe `contacts`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `contacts`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20100606163816)
Migrating to CreateContacts (20100718212508)
Migrating to CreateBuyers (20100719214714)
Migrating to AddUserTable (20101012111929)
Migrating to Products (20101107122055)
Migrating to CreateConfigurations (20101108225622)
Migrating to CreatePromocodes (20110226130635)
  [4;36;1mSQL (161.9ms)[0m   [0;1mCREATE TABLE `promocodes` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `end_date` date, `state` tinyint(1), `days` int(11), `code` varchar(255), `start_date` date, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20110226130635')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW FIELDS FROM `buyers`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mdescribe `buyers`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `buyers`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW FIELDS FROM `configurations`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mdescribe `configurations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `configurations`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW FIELDS FROM `contacts`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mdescribe `contacts`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `contacts`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.8ms)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW FIELDS FROM `promocodes`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mdescribe `promocodes`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `promocodes`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 14:08:26) [GET]
  [4;35;1mPromocode Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `promocodes`[0m
Rendering template within layouts/admin
Rendering admin/new_promocode
Completed in 29ms (View: 18, DB: 1) | 200 OK [http://localhost/admin/new_promocode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#view_promocode (for 127.0.0.1 at 2011-02-26 14:08:32) [POST]
  Parameters: {"start_date"=>{"month"=>"2", "day"=>"26", "year"=>"2011"}, "prc"=>{"days"=>""}, "commit"=>"Crear", "authenticity_token"=>"V0selDG33Yeb/42pTj4Wn+FDbFNGwgWmhoKLyvdR2xo="}
Rendering template within layouts/admin
Rendering admin/view_promocode
Completed in 21ms (View: 18, DB: 0) | 200 OK [http://localhost/admin/view_promocode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 14:09:59) [GET]
  [4;36;1mPromocode Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `promocodes`[0m
Rendering template within layouts/admin
Rendering admin/new_promocode
Completed in 25ms (View: 14, DB: 1) | 200 OK [http://localhost/admin/new_promocode]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 14:10:03) [GET]
  [4;35;1mPromocode Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `promocodes`[0m
Rendering template within layouts/admin
Rendering admin/new_promocode
Completed in 24ms (View: 14, DB: 1) | 200 OK [http://localhost/admin/new_promocode]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 14:10:26) [GET]
  [4;36;1mPromocode Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `promocodes`[0m
Rendering template within layouts/admin
Rendering admin/new_promocode
Completed in 31ms (View: 20, DB: 1) | 200 OK [http://localhost/admin/new_promocode]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#view_promocode (for 127.0.0.1 at 2011-02-26 14:10:36) [POST]
  Parameters: {"start_date"=>{"month"=>"2", "day"=>"26", "year"=>"2011"}, "prc"=>{"days"=>""}, "commit"=>"Crear", "authenticity_token"=>"V0selDG33Yeb/42pTj4Wn+FDbFNGwgWmhoKLyvdR2xo="}
Rendering template within layouts/admin
Rendering admin/view_promocode

ActionView::TemplateError (undefined method `code' for {"days"=>""}:HashWithIndifferentAccess) on line #5 of app/views/admin/view_promocode.html.erb:
2: <table>
3: 
4: <% form_tag :action=>:save_promo,:id=>@prc do  %>
5: 	<tr><td>Code:</td><td> <%=text_field :prc, :code,:disabled=>true%></td></tr>
6: 	<tr><td>Fecha de activaviÃ³n:</td><td><%= select_date Date.today, :prefix => :start_date %></td></tr>
7: 	<tr><td>Dias de validez:</td><td><%=text_field :prc, :days%></td></tr>
8: 	<tr><td>Valor:</td><td><%=text_field :prc, :days%></td></tr>

    app/views/admin/view_promocode.html.erb:5
    app/views/admin/view_promocode.html.erb:4
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (146.7ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
/home/zero/Projects/nopintasnada/app/controllers/admin_controller.rb:125
@prc=params[:prc]
(rdb:547) params
{"start_date"=>{"month"=>"2", "day"=>"26", "year"=>"2011"}, "commit"=>"Crear", "prc"=>{"days"=>""}, "authenticity_token"=>"V0selDG33Yeb/42pTj4Wn+FDbFNGwgWmhoKLyvdR2xo=", "action"=>"view_promocode", "controller"=>"admin"}
(rdb:547) params[:prc]
{"days"=>""}
(rdb:547) c
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#view_promocode (for 127.0.0.1 at 2011-02-26 14:11:25) [POST]
  Parameters: {"start_date"=>{"month"=>"2", "day"=>"26", "year"=>"2011"}, "prc"=>{"days"=>""}, "commit"=>"Crear", "authenticity_token"=>"V0selDG33Yeb/42pTj4Wn+FDbFNGwgWmhoKLyvdR2xo="}
Rendering template within layouts/admin
Rendering admin/view_promocode

ActionView::TemplateError (undefined method `code' for {"days"=>""}:HashWithIndifferentAccess) on line #5 of app/views/admin/view_promocode.html.erb:
2: <table>
3: 
4: <% form_tag :action=>:save_promo,:id=>@prc do  %>
5: 	<tr><td>Code:</td><td> <%=text_field :prc, :code,:disabled=>true%></td></tr>
6: 	<tr><td>Fecha de activaviÃ³n:</td><td><%= select_date Date.today, :prefix => :start_date %></td></tr>
7: 	<tr><td>Dias de validez:</td><td><%=text_field :prc, :days%></td></tr>
8: 	<tr><td>Valor:</td><td><%=text_field :prc, :days%></td></tr>

    app/views/admin/view_promocode.html.erb:5
    app/views/admin/view_promocode.html.erb:4
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (79.3ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 14:13:23) [GET]
  [4;35;1mPromocode Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `promocodes`[0m

NoMethodError (undefined method `date=' for #<Promocode:0x7f113b658f08>):
  app/controllers/admin_controller.rb:121:in `new_promocode'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (51.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 14:13:27) [GET]
  [4;36;1mPromocode Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `promocodes`[0m

NoMethodError (undefined method `date=' for #<Promocode:0x7f113b916600>):
  app/controllers/admin_controller.rb:121:in `new_promocode'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (50.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 14:15:17) [GET]
  [4;35;1mPromocode Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `promocodes`[0m

NoMethodError (undefined method `date=' for #<Promocode:0x7f113b731790>):
  app/controllers/admin_controller.rb:121:in `new_promocode'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (130.4ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 14:15:28) [GET]
  [4;36;1mPromocode Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `promocodes`[0m
Rendering template within layouts/admin
Rendering admin/new_promocode

ActionView::TemplateError (undefined method `[]' for :prc:Symbol) on line #6 of app/views/admin/new_promocode.html.erb:
3: 
4: <% form_tag :action=>:view_promocode,:id=>@prc do  %>
5: 	<tr><td>Code:</td><td> <%=text_field :prc, :code,:disabled=>true%></td></tr>
6: 	<tr><td>Fecha de activaviÃ³n:</td><td><%= select_date :prc[:start_date], :prefix => :start_date %></td></tr>
7: 	<tr><td>Dias de validez:</td><td><%=text_field :prc, :days%></td></tr>
8: 	<tr><td>Valor:</td><td><%=text_field :prc, :days%></td></tr>
9: 	<tr><td></td><td><%= submit_tag "Crear" %></td></tr> 

    app/views/admin/new_promocode.html.erb:6
    app/views/admin/new_promocode.html.erb:4
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (68.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 14:16:08) [GET]
  [4;35;1mPromocode Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `promocodes`[0m
Rendering template within layouts/admin
Rendering admin/new_promocode

ActionView::TemplateError (undefined method `day' for :prc:Symbol) on line #6 of app/views/admin/new_promocode.html.erb:
3: 
4: <% form_tag :action=>:view_promocode,:id=>@prc do  %>
5: 	<tr><td>Code:</td><td> <%=text_field :prc, :code,:disabled=>true%></td></tr>
6: 	<tr><td>Fecha de activaviÃ³n:</td><td><%= select_date :prc, :prefix => :start_date %></td></tr>
7: 	<tr><td>Dias de validez:</td><td><%=text_field :prc, :days%></td></tr>
8: 	<tr><td>Valor:</td><td><%=text_field :prc, :days%></td></tr>
9: 	<tr><td></td><td><%= submit_tag "Crear" %></td></tr> 

    app/views/admin/new_promocode.html.erb:6
    app/views/admin/new_promocode.html.erb:4
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (79.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 14:25:20) [GET]
  [4;36;1mPromocode Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `promocodes`[0m
Rendering template within layouts/admin
Rendering admin/new_promocode
ERROR: compiling _run_erb_app47views47admin47new_promocode46html46erb RAISED compile error
/home/zero/Projects/nopintasnada/app/views/admin/new_promocode.html.erb:8: syntax error, unexpected tIDENTIFIER, expecting ')'
...er.concat((f.text_field :day s).to_s); @output_buffer.concat...
                              ^
Function body:           def _run_erb_app47views47admin47new_promocode46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "\n<table>\n\n"


;  form_for :promocode, @prc, :url=>{:action=>:view_promocode} do |f|  ; @output_buffer.concat "\n\t<tr><td>Code:</td><td> "
; @output_buffer.concat((f.text_field  :code,:disabled=>true ).to_s); @output_buffer.concat "</td></tr>\n\t<tr><td>Fecha de activavi\303\263n:</td><td>"
; @output_buffer.concat(( f.select_date start_date ).to_s); @output_buffer.concat "</td></tr>\n\t<tr><td>Dias de validez:</td><td>"
; @output_buffer.concat((f.text_field :days ).to_s); @output_buffer.concat "</td></tr>\n\t<tr><td>Valor:</td><td>"
; @output_buffer.concat((f.text_field :day s).to_s); @output_buffer.concat "</td></tr>\n\t<tr><td></td><td>"
; @output_buffer.concat(( submit_tag "Crear" ).to_s); @output_buffer.concat "</td></tr> \n"
;  end ; @output_buffer.concat "\n\n</table>\n<br/>\n\n"




; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/zero/Projects/nopintasnada/app/views/admin/new_promocode.html.erb:18:in `compile!'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/var/lib/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/var/lib/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/var/lib/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/var/lib/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/var/lib/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/var/lib/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/var/lib/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/home/zero/.gem/ruby/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/var/lib/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/var/lib/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/var/lib/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/home/zero/.gem/ruby/1.8/gems/rails-2.3.8/lib/rails/rack/debugger.rb:19:in `call'
/home/zero/.gem/ruby/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/var/lib/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/var/lib/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/var/lib/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
/home/zero/.gem/ruby/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `require'
./script/server:3

ActionView::TemplateError (compile error
/home/zero/Projects/nopintasnada/app/views/admin/new_promocode.html.erb:8: syntax error, unexpected tIDENTIFIER, expecting ')'
...er.concat((f.text_field :day s).to_s); @output_buffer.concat...
                              ^) on line #8 of app/views/admin/new_promocode.html.erb:
5: 	<tr><td>Code:</td><td> <%=f.text_field  :code,:disabled=>true %></td></tr>
6: 	<tr><td>Fecha de activaviÃ³n:</td><td><%= f.select_date start_date %></td></tr>
7: 	<tr><td>Dias de validez:</td><td><%=f.text_field :days %></td></tr>
8: 	<tr><td>Valor:</td><td><%=f.text_field :day s%></td></tr>
9: 	<tr><td></td><td><%= submit_tag "Crear" %></td></tr> 
10: <% end %>
11: 

    app/views/admin/new_promocode.html.erb:18:in `compile!'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (60.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 14:25:56) [GET]
  [4;35;1mPromocode Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `promocodes`[0m
Rendering template within layouts/admin
Rendering admin/new_promocode
ERROR: compiling _run_erb_app47views47admin47new_promocode46html46erb RAISED compile error
/home/zero/Projects/nopintasnada/app/views/admin/new_promocode.html.erb:8: syntax error, unexpected tIDENTIFIER, expecting ')'
...er.concat((f.text_field :day s).to_s); @output_buffer.concat...
                              ^
Function body:           def _run_erb_app47views47admin47new_promocode46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "\n<table>\n\n"


;  form_for :promocode, @prc, :url=>{:action=>:view_promocode} do |f|  ; @output_buffer.concat "\n\t<tr><td>Code:</td><td> "
; @output_buffer.concat((f.text_field  :code,:disabled=>true ).to_s); @output_buffer.concat "</td></tr>\n\t<tr><td>Fecha de activavi\303\263n:</td><td>"
; @output_buffer.concat(( f.select_date :start_date ).to_s); @output_buffer.concat "</td></tr>\n\t<tr><td>Dias de validez:</td><td>"
; @output_buffer.concat((f.text_field :days ).to_s); @output_buffer.concat "</td></tr>\n\t<tr><td>Valor:</td><td>"
; @output_buffer.concat((f.text_field :day s).to_s); @output_buffer.concat "</td></tr>\n\t<tr><td></td><td>"
; @output_buffer.concat(( submit_tag "Crear" ).to_s); @output_buffer.concat "</td></tr> \n"
;  end ; @output_buffer.concat "\n\n</table>\n<br/>\n\n"




; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/zero/Projects/nopintasnada/app/views/admin/new_promocode.html.erb:18:in `compile!'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/var/lib/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/var/lib/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/var/lib/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/var/lib/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/var/lib/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/var/lib/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/var/lib/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/home/zero/.gem/ruby/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/var/lib/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/var/lib/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/var/lib/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/home/zero/.gem/ruby/1.8/gems/rails-2.3.8/lib/rails/rack/debugger.rb:19:in `call'
/home/zero/.gem/ruby/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/var/lib/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/var/lib/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/var/lib/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
/home/zero/.gem/ruby/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `require'
./script/server:3

ActionView::TemplateError (compile error
/home/zero/Projects/nopintasnada/app/views/admin/new_promocode.html.erb:8: syntax error, unexpected tIDENTIFIER, expecting ')'
...er.concat((f.text_field :day s).to_s); @output_buffer.concat...
                              ^) on line #8 of app/views/admin/new_promocode.html.erb:
5: 	<tr><td>Code:</td><td> <%=f.text_field  :code,:disabled=>true %></td></tr>
6: 	<tr><td>Fecha de activaviÃ³n:</td><td><%= f.select_date :start_date %></td></tr>
7: 	<tr><td>Dias de validez:</td><td><%=f.text_field :days %></td></tr>
8: 	<tr><td>Valor:</td><td><%=f.text_field :day s%></td></tr>
9: 	<tr><td></td><td><%= submit_tag "Crear" %></td></tr> 
10: <% end %>
11: 

    app/views/admin/new_promocode.html.erb:18:in `compile!'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (61.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 14:25:58) [GET]
  [4;36;1mPromocode Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `promocodes`[0m
Rendering template within layouts/admin
Rendering admin/new_promocode
ERROR: compiling _run_erb_app47views47admin47new_promocode46html46erb RAISED compile error
/home/zero/Projects/nopintasnada/app/views/admin/new_promocode.html.erb:8: syntax error, unexpected tIDENTIFIER, expecting ')'
...er.concat((f.text_field :day s).to_s); @output_buffer.concat...
                              ^
Function body:           def _run_erb_app47views47admin47new_promocode46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "\n<table>\n\n"


;  form_for :promocode, @prc, :url=>{:action=>:view_promocode} do |f|  ; @output_buffer.concat "\n\t<tr><td>Code:</td><td> "
; @output_buffer.concat((f.text_field  :code,:disabled=>true ).to_s); @output_buffer.concat "</td></tr>\n\t<tr><td>Fecha de activavi\303\263n:</td><td>"
; @output_buffer.concat(( f.select_date :start_date ).to_s); @output_buffer.concat "</td></tr>\n\t<tr><td>Dias de validez:</td><td>"
; @output_buffer.concat((f.text_field :days ).to_s); @output_buffer.concat "</td></tr>\n\t<tr><td>Valor:</td><td>"
; @output_buffer.concat((f.text_field :day s).to_s); @output_buffer.concat "</td></tr>\n\t<tr><td></td><td>"
; @output_buffer.concat(( submit_tag "Crear" ).to_s); @output_buffer.concat "</td></tr> \n"
;  end ; @output_buffer.concat "\n\n</table>\n<br/>\n\n"




; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/zero/Projects/nopintasnada/app/views/admin/new_promocode.html.erb:18:in `compile!'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/var/lib/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/var/lib/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/var/lib/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/var/lib/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/var/lib/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/var/lib/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/var/lib/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/home/zero/.gem/ruby/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/var/lib/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/var/lib/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/var/lib/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/home/zero/.gem/ruby/1.8/gems/rails-2.3.8/lib/rails/rack/debugger.rb:19:in `call'
/home/zero/.gem/ruby/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/var/lib/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/var/lib/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/var/lib/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
/home/zero/.gem/ruby/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `require'
./script/server:3

ActionView::TemplateError (compile error
/home/zero/Projects/nopintasnada/app/views/admin/new_promocode.html.erb:8: syntax error, unexpected tIDENTIFIER, expecting ')'
...er.concat((f.text_field :day s).to_s); @output_buffer.concat...
                              ^) on line #8 of app/views/admin/new_promocode.html.erb:
5: 	<tr><td>Code:</td><td> <%=f.text_field  :code,:disabled=>true %></td></tr>
6: 	<tr><td>Fecha de activaviÃ³n:</td><td><%= f.select_date :start_date %></td></tr>
7: 	<tr><td>Dias de validez:</td><td><%=f.text_field :days %></td></tr>
8: 	<tr><td>Valor:</td><td><%=f.text_field :day s%></td></tr>
9: 	<tr><td></td><td><%= submit_tag "Crear" %></td></tr> 
10: <% end %>
11: 

    app/views/admin/new_promocode.html.erb:18:in `compile!'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (139.0ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 14:26:39) [GET]
  [4;35;1mPromocode Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `promocodes`[0m
Rendering template within layouts/admin
Rendering admin/new_promocode

ActionView::TemplateError (undefined method `select_date' for #<ActionView::Helpers::FormBuilder:0x7f113babc838>) on line #6 of app/views/admin/new_promocode.html.erb:
3: 
4: <% form_for :promocode, @prc, :url=>{:action=>:view_promocode} do |f|  %>
5: 	<tr><td>Code:</td><td> <%=f.text_field  :code,:disabled=>true %></td></tr>
6: 	<tr><td>Fecha de activaviÃ³n:</td><td><%= f.select_date :start_date %></td></tr>
7: 	<tr><td>Dias de validez:</td><td><%=f.text_field :days %></td></tr>
8: 	<tr><td>Valor:</td><td><%=f.text_field :value%></td></tr>
9: 	<tr><td></td><td><%= submit_tag "Crear" %></td></tr> 

    app/views/admin/new_promocode.html.erb:6
    app/views/admin/new_promocode.html.erb:4
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (65.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 14:34:29) [GET]
  [4;36;1mPromocode Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `promocodes`[0m
Rendering template within layouts/admin
Rendering admin/new_promocode

ActionView::TemplateError (undefined method `value' for #<Promocode:0x7f113b755820>) on line #8 of app/views/admin/new_promocode.html.erb:
5: 	<tr><td>Code:</td><td> <%=f.text_field  :code,:disabled=>true %></td></tr>
6: 	<tr><td>Fecha de activaviÃ³n:</td><td><%= date_select :prc, :start_date %></td></tr>
7: 	<tr><td>Dias de validez:</td><td><%=f.text_field :days %></td></tr>
8: 	<tr><td>Valor:</td><td><%=f.text_field :value%></td></tr>
9: 	<tr><td></td><td><%= submit_tag "Crear" %></td></tr> 
10: <% end %>
11: 

    app/views/admin/new_promocode.html.erb:8
    app/views/admin/new_promocode.html.erb:4
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (148.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (60.8ms)[0m   [0;1mDROP TABLE `promocodes`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20110226130635'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `buyers`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mdescribe `buyers`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `buyers`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW FIELDS FROM `configurations`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mdescribe `configurations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW KEYS FROM `configurations`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW FIELDS FROM `contacts`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mdescribe `contacts`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSHOW KEYS FROM `contacts`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20100606163816)
Migrating to CreateContacts (20100718212508)
Migrating to CreateBuyers (20100719214714)
Migrating to AddUserTable (20101012111929)
Migrating to Products (20101107122055)
Migrating to CreateConfigurations (20101108225622)
Migrating to CreatePromocodes (20110226133605)
  [4;36;1mSQL (182.6ms)[0m   [0;1mCREATE TABLE `promocodes` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `end_date` date, `state` tinyint(1), `days` int(11), `code` varchar(255), `start_date` date, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20110226133605')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW FIELDS FROM `buyers`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mdescribe `buyers`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `buyers`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW FIELDS FROM `configurations`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mdescribe `configurations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `configurations`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `contacts`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mdescribe `contacts`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `contacts`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `promocodes`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mdescribe `promocodes`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `promocodes`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (84.4ms)[0m   [0;1mDROP TABLE `promocodes`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20110226133605'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW FIELDS FROM `buyers`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mdescribe `buyers`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `buyers`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW FIELDS FROM `configurations`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mdescribe `configurations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW KEYS FROM `configurations`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW FIELDS FROM `contacts`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mdescribe `contacts`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `contacts`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSHOW KEYS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 14:38:59) [GET]
  [4;35;1mPromocode Columns (0.0ms)[0m   [0mMysql::Error: Table 'nopintasnada_development.promocodes' doesn't exist: SHOW FIELDS FROM `promocodes`[0m

ActiveRecord::StatementInvalid (Mysql::Error: Table 'nopintasnada_development.promocodes' doesn't exist: SHOW FIELDS FROM `promocodes`):
  app/controllers/admin_controller.rb:119:in `new'
  app/controllers/admin_controller.rb:119:in `new_promocode'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (55.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20100606163816)
Migrating to CreateContacts (20100718212508)
Migrating to CreateBuyers (20100719214714)
Migrating to AddUserTable (20101012111929)
Migrating to Products (20101107122055)
Migrating to CreateConfigurations (20101108225622)
Migrating to CreatePromocodes (20110226133851)
  [4;36;1mSQL (183.0ms)[0m   [0;1mCREATE TABLE `promocodes` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `end_date` date, `value` float, `state` tinyint(1), `days` int(11), `code` varchar(255), `start_date` date, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20110226133851')[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `buyers`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mdescribe `buyers`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `buyers`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW FIELDS FROM `configurations`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mdescribe `configurations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `configurations`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `contacts`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mdescribe `contacts`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `contacts`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW FIELDS FROM `promocodes`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mdescribe `promocodes`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `promocodes`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 14:39:17) [GET]
  [4;36;1mPromocode Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `promocodes`[0m
Rendering template within layouts/admin
Rendering admin/new_promocode
Completed in 24ms (View: 13, DB: 1) | 200 OK [http://localhost/admin/new_promocode]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#view_promocode (for 127.0.0.1 at 2011-02-26 14:39:23) [POST]
  Parameters: {"prc"=>{"start_date(1i)"=>"2011", "start_date(2i)"=>"2", "start_date(3i)"=>"26"}, "commit"=>"Crear", "authenticity_token"=>"V0selDG33Yeb/42pTj4Wn+FDbFNGwgWmhoKLyvdR2xo=", "promocode"=>{"days"=>"", "value"=>""}}
Rendering template within layouts/admin
Rendering admin/view_promocode

ActionView::TemplateError (undefined method `code' for #<HashWithIndifferentAccess:0x7f113bb4a200>) on line #5 of app/views/admin/view_promocode.html.erb:
2: <table>
3: 
4: <% form_tag :action=>:save_promo,:id=>@prc do  %>
5: 	<tr><td>Code:</td><td> <%=text_field :prc, :code,:disabled=>true%></td></tr>
6: 	<tr><td>Fecha de activaviÃ³n:</td><td><%= select_date Date.today, :prefix => :start_date %></td></tr>
7: 	<tr><td>Dias de validez:</td><td><%=text_field :prc, :days%></td></tr>
8: 	<tr><td>Valor:</td><td><%=text_field :prc, :days%></td></tr>

    app/views/admin/view_promocode.html.erb:5
    app/views/admin/view_promocode.html.erb:4
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (73.8ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#view_promocode (for 127.0.0.1 at 2011-02-26 15:17:06) [POST]
  Parameters: {"prc"=>{"start_date(1i)"=>"2011", "start_date(2i)"=>"2", "start_date(3i)"=>"26"}, "commit"=>"Crear", "authenticity_token"=>"V0selDG33Yeb/42pTj4Wn+FDbFNGwgWmhoKLyvdR2xo=", "promocode"=>{"days"=>"", "value"=>""}}
Rendering template within layouts/admin
Rendering admin/view_promocode

ActionView::TemplateError (undefined method `code' for #<HashWithIndifferentAccess:0x7f113b789ee0>) on line #5 of app/views/admin/view_promocode.html.erb:
2: <table>
3: 
4: <% form_tag :action=>:save_promo,:id=>@prc do  %>
5: 	<tr><td>Code:</td><td> <%=text_field :prc, :code,:disabled=>true%></td></tr>
6: 	<tr><td>Fecha de activaviÃ³n:</td><td><%= select_date Date.today, :prefix => :start_date %></td></tr>
7: 	<tr><td>Dias de validez:</td><td><%=text_field :prc, :days%></td></tr>
8: 	<tr><td>Valor:</td><td><%=text_field :prc, :days%></td></tr>

    app/views/admin/view_promocode.html.erb:5
    app/views/admin/view_promocode.html.erb:4
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (150.3ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332
default_render unless performed?
(rdb:773) @prc
{"start_date(1i)"=>"2011", "start_date(2i)"=>"2", "start_date(3i)"=>"26"}
(rdb:773) params
{"commit"=>"Crear", "prc"=>{"start_date(1i)"=>"2011", "start_date(2i)"=>"2", "start_date(3i)"=>"26"}, "authenticity_token"=>"V0selDG33Yeb/42pTj4Wn+FDbFNGwgWmhoKLyvdR2xo=", "action"=>"view_promocode", "controller"=>"admin", "promocode"=>{"days"=>"", "value"=>""}}
(rdb:773) c
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#view_promocode (for 127.0.0.1 at 2011-02-26 15:17:45) [POST]
  Parameters: {"prc"=>{"start_date(1i)"=>"2011", "start_date(2i)"=>"2", "start_date(3i)"=>"26"}, "commit"=>"Crear", "authenticity_token"=>"V0selDG33Yeb/42pTj4Wn+FDbFNGwgWmhoKLyvdR2xo=", "promocode"=>{"days"=>"", "value"=>""}}
Rendering template within layouts/admin
Rendering admin/view_promocode

ActionView::TemplateError (undefined method `code' for #<HashWithIndifferentAccess:0x7f113b9eef78>) on line #5 of app/views/admin/view_promocode.html.erb:
2: <table>
3: 
4: <% form_tag :action=>:save_promo,:id=>@prc do  %>
5: 	<tr><td>Code:</td><td> <%=text_field :prc, :code,:disabled=>true%></td></tr>
6: 	<tr><td>Fecha de activaviÃ³n:</td><td><%= select_date Date.today, :prefix => :start_date %></td></tr>
7: 	<tr><td>Dias de validez:</td><td><%=text_field :prc, :days%></td></tr>
8: 	<tr><td>Valor:</td><td><%=text_field :prc, :days%></td></tr>

    app/views/admin/view_promocode.html.erb:5
    app/views/admin/view_promocode.html.erb:4
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (73.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-26 15:38:37) [GET]
  [4;35;1mPromocode Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `promocodes`[0m
Rendering template within layouts/admin
Rendering admin/new_promocode
Completed in 103ms (View: 92, DB: 1) | 200 OK [http://localhost/admin/new_promocode]
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332
default_render unless performed?
(rdb:790) params
{"commit"=>"Crear", "authenticity_token"=>"V0selDG33Yeb/42pTj4Wn+FDbFNGwgWmhoKLyvdR2xo=", "action"=>"view_promocode", "controller"=>"admin", "promocode"=>{"start_date(1i)"=>"2011", "start_date(2i)"=>"2", "start_date(3i)"=>"26", "days"=>"", "value"=>""}}
(rdb:790) params[:promocode]
{"start_date(1i)"=>"2011", "start_date(2i)"=>"2", "start_date(3i)"=>"26", "days"=>"", "value"=>""}
(rdb:790) c
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#view_promocode (for 127.0.0.1 at 2011-02-26 15:38:38) [POST]
  Parameters: {"commit"=>"Crear", "authenticity_token"=>"V0selDG33Yeb/42pTj4Wn+FDbFNGwgWmhoKLyvdR2xo=", "promocode"=>{"start_date(1i)"=>"2011", "start_date(2i)"=>"2", "start_date(3i)"=>"26", "days"=>"", "value"=>""}}
Rendering template within layouts/admin
Rendering admin/view_promocode
Completed in 22203ms (View: 19, DB: 0) | 200 OK [http://localhost/admin/view_promocode]
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332
default_render unless performed?
(rdb:790) pr[K[Kl
[1327, 1336] in /var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb
   1327        end
   1328  
   1329        def perform_action
   1330          if action_methods.include?(action_name)
   1331            send(action_name)
=> 1332            default_render unless performed?
   1333          elsif respond_to? :method_missing
   1334            method_missing action_name
   1335            default_render unless performed?
   1336          else
(rdb:790) @prc
nil
(rdb:790) :prc
:prc
(rdb:790) c
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#view_promocode (for 127.0.0.1 at 2011-02-26 15:39:21) [POST]
  Parameters: {"commit"=>"Crear", "authenticity_token"=>"V0selDG33Yeb/42pTj4Wn+FDbFNGwgWmhoKLyvdR2xo=", "promocode"=>{"start_date(1i)"=>"2011", "start_date(2i)"=>"2", "start_date(3i)"=>"26", "days"=>"", "value"=>""}}
Rendering template within layouts/admin
Rendering admin/view_promocode
Completed in 42441ms (View: 22, DB: 0) | 200 OK [http://localhost/admin/view_promocode]
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332
default_render unless performed?
(rdb:790) c
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#view_promocode (for 127.0.0.1 at 2011-02-26 15:40:16) [POST]
  Parameters: {"commit"=>"Crear", "authenticity_token"=>"V0selDG33Yeb/42pTj4Wn+FDbFNGwgWmhoKLyvdR2xo=", "promocode"=>{"start_date(1i)"=>"2011", "start_date(2i)"=>"3", "start_date(3i)"=>"26", "days"=>"", "value"=>""}}
Rendering template within layouts/admin
Rendering admin/view_promocode
Completed in 2160ms (View: 18, DB: 0) | 200 OK [http://localhost/admin/view_promocode]
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332
default_render unless performed?
(rdb:903) c
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#view_promocode (for 127.0.0.1 at 2011-02-26 15:44:28) [POST]
  Parameters: {"commit"=>"Crear", "authenticity_token"=>"V0selDG33Yeb/42pTj4Wn+FDbFNGwgWmhoKLyvdR2xo=", "promocode"=>{"start_date(1i)"=>"2011", "start_date(2i)"=>"3", "start_date(3i)"=>"26", "days"=>"", "value"=>""}}
Rendering template within layouts/admin
Rendering admin/view_promocode

ActionView::TemplateError (undefined method `code' for #<HashWithIndifferentAccess:0x7f113b7da390>) on line #5 of app/views/admin/view_promocode.html.erb:
2: <table>
3: 
4: <% form_tag :action=>:save_promo,:id=>@prc do  %>
5: 	<tr><td>Code:</td><td> <%=text_field :prc, :code,:disabled=>true%></td></tr>
6: 	<tr><td>Fecha de activaviÃ³n:</td><td><%= select_date Date.today, :prefix => :start_date %></td></tr>
7: 	<tr><td>Dias de validez:</td><td><%=text_field :prc, :days%></td></tr>
8: 	<tr><td>Valor:</td><td><%=text_field :prc, :days%></td></tr>

    app/views/admin/view_promocode.html.erb:5
    app/views/admin/view_promocode.html.erb:4
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (144.3ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332
default_render unless performed?
(rdb:919) l
[1327, 1336] in /var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb
   1327        end
   1328  
   1329        def perform_action
   1330          if action_methods.include?(action_name)
   1331            send(action_name)
=> 1332            default_render unless performed?
   1333          elsif respond_to? :method_missing
   1334            method_missing action_name
   1335            default_render unless performed?
   1336          else
(rdb:919) s
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1351
@performed_render || @performed_redirect
(rdb:919) h
ruby-debug help v0.10.3
Type 'help <command-name>' for help on a specific command

Available commands:
backtrace  delete   enable  help    next  quit     show    undisplay
break      disable  eval    info    p     reload   source  up       
catch      display  exit    irb     pp    restart  step    var      
condition  down     finish  list    ps    save     thread  where    
continue   edit     frame   method  putl  set      trace 

(rdb:919) f
*** Missing a frame number argument.
(rdb:919) s
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332
default_render unless performed?
(rdb:919) show
"show" must be followed by the name of an show command:
List of show subcommands:

show annotate -- Show annotation level
show args -- Show argument list to give program being debugged when it is started
show autoeval -- Show if unrecognized command are evaluated
show autolist -- Show if 'list' commands is run on breakpoints
show autoirb -- Show if IRB is invoked on debugger stops
show autoreload -- Show if source code is reloaded when changed
show basename -- Show if basename used in reporting files
show callstyle -- Show paramater style used showing call frames
show commands -- Show the history of commands you typed
show forcestep -- Show if sure 'next/step' forces move to a new line
show fullpath -- Show if full file names are displayed in frames
show history -- Generic command for showing command history parameters
show keep-frame-bindings -- Save frame binding on each call
show linetrace -- Show line execution tracing
show linetrace+ -- Show if consecutive lines should be different are shown in tracing
show listsize -- Show number of source lines to list by default
show port -- Show server port
show post-mortem -- Show whether we go into post-mortem debugging on an uncaught exception
show trace -- Show if a stack trace is displayed when 'eval' raises exception
show version -- Show what version of the debugger this is
show width -- Show the number of characters the debugger thinks are in a line
(rdb:919) h
ruby-debug help v0.10.3
Type 'help <command-name>' for help on a specific command

Available commands:
backtrace  delete   enable  help    next  quit     show    undisplay
break      disable  eval    info    p     reload   source  up       
catch      display  exit    irb     pp    restart  step    var      
condition  down     finish  list    ps    save     thread  where    
continue   edit     frame   method  putl  set      trace 

(rdb:919) c
  [4;36;1mSQL (182.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (68.7ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#view_promocode (for 127.0.0.1 at 2011-02-27 12:09:01) [POST]
  Parameters: {"commit"=>"Crear", "authenticity_token"=>"V0selDG33Yeb/42pTj4Wn+FDbFNGwgWmhoKLyvdR2xo=", "promocode"=>{"start_date(1i)"=>"2011", "start_date(2i)"=>"3", "start_date(3i)"=>"26", "days"=>"", "value"=>""}}
Rendering template within layouts/admin
Rendering admin/view_promocode

ActionView::TemplateError (undefined method `code' for #<HashWithIndifferentAccess:0x7f113b949410>) on line #5 of app/views/admin/view_promocode.html.erb:
2: <table>
3: 
4: <% form_tag :action=>:save_promo,:id=>@prc do  %>
5: 	<tr><td>Code:</td><td> <%=text_field :prc, :code,:disabled=>true%></td></tr>
6: 	<tr><td>Fecha de activaviÃ³n:</td><td><%= select_date Date.today, :prefix => :start_date %></td></tr>
7: 	<tr><td>Dias de validez:</td><td><%=text_field :prc, :days%></td></tr>
8: 	<tr><td>Valor:</td><td><%=text_field :prc, :days%></td></tr>

    app/views/admin/view_promocode.html.erb:5
    app/views/admin/view_promocode.html.erb:4
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (574.6ms)
Rendered rescues/_request_and_response (40.3ms)
Rendering rescues/layout (internal_server_error)
p/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332
default_render unless performed?
(rdb:919) params
{"commit"=>"Crear", "authenticity_token"=>"V0selDG33Yeb/42pTj4Wn+FDbFNGwgWmhoKLyvdR2xo=", "action"=>"view_promocode", "controller"=>"admin", "promocode"=>{"start_date(1i)"=>"2011", "start_date(2i)"=>"3", "start_date(3i)"=>"26", "days"=>"", "value"=>""}}
(rdb:919) c
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#view_promocode (for 127.0.0.1 at 2011-02-27 12:10:47) [POST]
  Parameters: {"commit"=>"Crear", "authenticity_token"=>"V0selDG33Yeb/42pTj4Wn+FDbFNGwgWmhoKLyvdR2xo=", "promocode"=>{"start_date(1i)"=>"2011", "start_date(2i)"=>"3", "start_date(3i)"=>"26", "days"=>"", "value"=>""}}
Rendering template within layouts/admin
Rendering admin/view_promocode

ActionView::TemplateError (undefined method `code' for #<HashWithIndifferentAccess:0x7f113bb81a70>) on line #5 of app/views/admin/view_promocode.html.erb:
2: <table>
3: 
4: <% form_tag :action=>:save_promo,:id=>@prc do  %>
5: 	<tr><td>Code:</td><td> <%=text_field :prc, :code,:disabled=>true%></td></tr>
6: 	<tr><td>Fecha de activaviÃ³n:</td><td><%= select_date Date.today, :prefix => :start_date %></td></tr>
7: 	<tr><td>Dias de validez:</td><td><%=text_field :prc, :days%></td></tr>
8: 	<tr><td>Valor:</td><td><%=text_field :prc, :days%></td></tr>

    app/views/admin/view_promocode.html.erb:5
    app/views/admin/view_promocode.html.erb:4
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (74.4ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
params
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332
default_render unless performed?
(rdb:952) params
{"commit"=>"Crear", "authenticity_token"=>"V0selDG33Yeb/42pTj4Wn+FDbFNGwgWmhoKLyvdR2xo=", "action"=>"view_promocode", "controller"=>"admin", "promocode"=>{"start_date(1i)"=>"2011", "start_date(2i)"=>"3", "start_date(3i)"=>"26", "days"=>"", "value"=>""}}
(rdb:952) params
{"commit"=>"Crear", "authenticity_token"=>"V0selDG33Yeb/42pTj4Wn+FDbFNGwgWmhoKLyvdR2xo=", "action"=>"view_promocode", "controller"=>"admin", "promocode"=>{"start_date(1i)"=>"2011", "start_date(2i)"=>"3", "start_date(3i)"=>"26", "days"=>"", "value"=>""}}
(rdb:952) c
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#view_promocode (for 127.0.0.1 at 2011-02-27 12:13:43) [POST]
  Parameters: {"commit"=>"Crear", "authenticity_token"=>"V0selDG33Yeb/42pTj4Wn+FDbFNGwgWmhoKLyvdR2xo=", "promocode"=>{"start_date(1i)"=>"2011", "start_date(2i)"=>"3", "start_date(3i)"=>"26", "days"=>"", "value"=>""}}
Rendering template within layouts/admin
Rendering admin/view_promocode

ActionView::TemplateError (undefined method `code' for #<HashWithIndifferentAccess:0x7f113b79f358>) on line #5 of app/views/admin/view_promocode.html.erb:
2: <table>
3: 
4: <% form_tag :action=>:save_promo,:id=>@prc do  %>
5: 	<tr><td>Code:</td><td> <%=text_field :prc, :code,:disabled=>true%></td></tr>
6: 	<tr><td>Fecha de activaviÃ³n:</td><td><%= select_date Date.today, :prefix => :start_date %></td></tr>
7: 	<tr><td>Dias de validez:</td><td><%=text_field :prc, :days%></td></tr>
8: 	<tr><td>Valor:</td><td><%=text_field :prc, :days%></td></tr>

    app/views/admin/view_promocode.html.erb:5
    app/views/admin/view_promocode.html.erb:4
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (273.0ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332
default_render unless performed?
(rdb:969) params
{"commit"=>"Crear", "authenticity_token"=>"V0selDG33Yeb/42pTj4Wn+FDbFNGwgWmhoKLyvdR2xo=", "action"=>"view_promocode", "controller"=>"admin", "promocode"=>{"start_date(1i)"=>"2011", "start_date(2i)"=>"3", "start_date(3i)"=>"26", "days"=>"", "value"=>""}}
(rdb:969) c
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#view_promocode (for 127.0.0.1 at 2011-02-27 12:15:02) [POST]
  Parameters: {"commit"=>"Crear", "authenticity_token"=>"V0selDG33Yeb/42pTj4Wn+FDbFNGwgWmhoKLyvdR2xo=", "promocode"=>{"start_date(1i)"=>"2011", "start_date(2i)"=>"3", "start_date(3i)"=>"26", "days"=>"", "value"=>""}}
Rendering template within layouts/admin
Rendering admin/view_promocode

ActionView::TemplateError (undefined method `code' for #<HashWithIndifferentAccess:0x7f113ba3d678>) on line #5 of app/views/admin/view_promocode.html.erb:
2: <table>
3: 
4: <% form_tag :action=>:save_promo,:id=>@prc do  %>
5: 	<tr><td>Code:</td><td> <%=text_field :prc, :code,:disabled=>true%></td></tr>
6: 	<tr><td>Fecha de activaviÃ³n:</td><td><%= select_date Date.today, :prefix => :start_date %></td></tr>
7: 	<tr><td>Dias de validez:</td><td><%=text_field :prc, :days%></td></tr>
8: 	<tr><td>Valor:</td><td><%=text_field :prc, :days%></td></tr>

    app/views/admin/view_promocode.html.erb:5
    app/views/admin/view_promocode.html.erb:4
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (73.7ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332
default_render unless performed?
(rdb:985) c
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#view_promocode (for 127.0.0.1 at 2011-02-27 12:31:14) [POST]
  Parameters: {"commit"=>"Crear", "authenticity_token"=>"V0selDG33Yeb/42pTj4Wn+FDbFNGwgWmhoKLyvdR2xo=", "promocode"=>{"start_date(1i)"=>"2011", "start_date(2i)"=>"3", "start_date(3i)"=>"26", "days"=>"", "value"=>""}}
Rendering template within layouts/admin
Rendering admin/view_promocode

ActionView::TemplateError (undefined method `code' for #<HashWithIndifferentAccess:0x7f113b6f7748>) on line #3 of app/views/admin/view_promocode.html.erb:
1: 
2: <table>
3: 	<tr><td>Code:</td><td> <%=@prc.code%></td></tr>
4: 	<tr><td>Fecha de activaviÃ³n:</td><td><%=@prc.start_date %></td></tr>
5: 	<tr><td>Dias de validez:</td><td><%=@prc.days%></td></tr>
6: 	<tr><td>Valor:</td><td><%=@prc.value%></td></tr>

    app/views/admin/view_promocode.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (67.8ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332
default_render unless performed?
(rdb:1002) c
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#view_promocode (for 127.0.0.1 at 2011-02-27 12:31:28) [POST]
  Parameters: {"commit"=>"Crear", "authenticity_token"=>"V0selDG33Yeb/42pTj4Wn+FDbFNGwgWmhoKLyvdR2xo=", "promocode"=>{"start_date(1i)"=>"2011", "start_date(2i)"=>"3", "start_date(3i)"=>"26", "days"=>"", "value"=>""}}
Rendering template within layouts/admin
Rendering admin/view_promocode

ActionView::TemplateError (undefined method `code' for #<HashWithIndifferentAccess:0x7f113b8cb8d0>) on line #3 of app/views/admin/view_promocode.html.erb:
1: 
2: <table>
3: 	<tr><td>Code:</td><td> <%=@prc.code%></td></tr>
4: 	<tr><td>Fecha de activaviÃ³n:</td><td><%=@prc.start_date %></td></tr>
5: 	<tr><td>Dias de validez:</td><td><%=@prc.days%></td></tr>
6: 	<tr><td>Valor:</td><td><%=@prc.value%></td></tr>

    app/views/admin/view_promocode.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (61.4ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
/home/zero/Projects/nopintasnada/app/controllers/admin_controller.rb:126
end
(rdb:1019) l
[121, 130] in /home/zero/Projects/nopintasnada/app/controllers/admin_controller.rb
   121  	end
   122  
   123  	def view_promocode
   124  debugger
   125  		@prc=params[:prc]
=> 126  	end
   127  private
   128  
   129  	def get_directory
   130  		"#{RAILS_ROOT}/public/images"
(rdb:1019) params
{"commit"=>"Crear", "authenticity_token"=>"V0selDG33Yeb/42pTj4Wn+FDbFNGwgWmhoKLyvdR2xo=", "action"=>"view_promocode", "controller"=>"admin", "promocode"=>{"start_date(1i)"=>"2011", "start_date(2i)"=>"3", "start_date(3i)"=>"26", "days"=>"", "value"=>""}}
(rdb:1019) params[:promocode]
{"start_date(1i)"=>"2011", "start_date(2i)"=>"3", "start_date(3i)"=>"26", "days"=>"", "value"=>""}
(rdb:1019) c
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#view_promocode (for 127.0.0.1 at 2011-02-27 12:32:41) [POST]
  Parameters: {"commit"=>"Crear", "authenticity_token"=>"V0selDG33Yeb/42pTj4Wn+FDbFNGwgWmhoKLyvdR2xo=", "promocode"=>{"start_date(1i)"=>"2011", "start_date(2i)"=>"3", "start_date(3i)"=>"26", "days"=>"", "value"=>""}}
Rendering template within layouts/admin
Rendering admin/view_promocode

ActionView::TemplateError (undefined method `code' for #<HashWithIndifferentAccess:0x7f113b65c590>) on line #3 of app/views/admin/view_promocode.html.erb:
1: 
2: <table>
3: 	<tr><td>Code:</td><td> <%=@prc.code%></td></tr>
4: 	<tr><td>Fecha de activaviÃ³n:</td><td><%=@prc.start_date %></td></tr>
5: 	<tr><td>Dias de validez:</td><td><%=@prc.days%></td></tr>
6: 	<tr><td>Valor:</td><td><%=@prc.value%></td></tr>

    app/views/admin/view_promocode.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (62.8ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
^C[2011-02-27 12:33:28] INFO  going to shutdown ...
[2011-02-27 12:33:28] INFO  WEBrick::HTTPServer#start done.
Exiting
]0;zero@zero-laptop: ~/Projects/nopintasnadazero@zero-laptop:~/Projects/nopintasnada$ ./script/server --debugger
=> Booting WEBrick
=> Rails 2.3.8 application starting on http://0.0.0.0:3000
=> Debugger enabled
=> Call with -d to detach
=> Ctrl-C to shutdown server
[2011-02-27 12:33:36] INFO  WEBrick 1.3.1
[2011-02-27 12:33:36] INFO  ruby 1.8.7 (2010-01-10) [x86_64-linux]
[2011-02-27 12:33:42] INFO  WEBrick::HTTPServer#start: pid=10096 port=3000
/home/zero/Projects/nopintasnada/app/controllers/admin_controller.rb:126
@prc=params[:promocode]
(rdb:2) l
[121, 130] in /home/zero/Projects/nopintasnada/app/controllers/admin_controller.rb
   121  		@prc.start_date = Date.today
   122  	end
   123  
   124  	def view_promocode
   125  debugger
=> 126  		@prc=params[:promocode]
   127  	#	@prc.start_date=params[:start_date]
   128  	end
   129  private
   130  
(rdb:2) lqparamsc[Kparamsc[Kparamsq[Kl[Kparams
{"commit"=>"Crear", "authenticity_token"=>"V0selDG33Yeb/42pTj4Wn+FDbFNGwgWmhoKLyvdR2xo=", "action"=>"view_promocode", "controller"=>"admin", "promocode"=>{"start_date(1i)"=>"2011", "start_date(2i)"=>"3", "start_date(3i)"=>"26", "days"=>"", "value"=>""}}
(rdb:2) c
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#view_promocode (for 127.0.0.1 at 2011-02-27 12:33:43) [POST]
  Parameters: {"commit"=>"Crear", "authenticity_token"=>"V0selDG33Yeb/42pTj4Wn+FDbFNGwgWmhoKLyvdR2xo=", "promocode"=>{"start_date(1i)"=>"2011", "start_date(2i)"=>"3", "start_date(3i)"=>"26", "days"=>"", "value"=>""}}
Rendering template within layouts/admin
Rendering admin/view_promocode

ActionView::TemplateError (undefined method `code' for #<HashWithIndifferentAccess:0x7fc2011491d0>) on line #3 of app/views/admin/view_promocode.html.erb:
1: 
2: <table>
3: 	<tr><td>Code:</td><td> <%=@prc.code%></td></tr>
4: 	<tr><td>Fecha de activaviÃ³n:</td><td><%=@prc.start_date %></td></tr>
5: 	<tr><td>Dias de validez:</td><td><%=@prc.days%></td></tr>
6: 	<tr><td>Valor:</td><td><%=@prc.value%></td></tr>

    app/views/admin/view_promocode.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (132.3ms)
Rendered rescues/_request_and_response (2.1ms)
Rendering rescues/layout (internal_server_error)
/home/zero/Projects/nopintasnada/app/controllers/admin_controller.rb:126
@prc=params[:promocode]
(rdb:2) cparamsl[Kqparamsc[Kparamsc[Kparamsq[Klparamsc[K[Kparams
{"commit"=>"Crear", "authenticity_token"=>"V0selDG33Yeb/42pTj4Wn+FDbFNGwgWmhoKLyvdR2xo=", "action"=>"view_promocode", "controller"=>"admin", "promocode"=>{"start_date(1i)"=>"2011", "start_date(2i)"=>"3", "start_date(3i)"=>"26", "days"=>"", "value"=>""}}
(rdb:2) c
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#view_promocode (for 127.0.0.1 at 2011-02-27 12:34:44) [POST]
  Parameters: {"commit"=>"Crear", "authenticity_token"=>"V0selDG33Yeb/42pTj4Wn+FDbFNGwgWmhoKLyvdR2xo=", "promocode"=>{"start_date(1i)"=>"2011", "start_date(2i)"=>"3", "start_date(3i)"=>"26", "days"=>"", "value"=>""}}
Rendering template within layouts/admin
Rendering admin/view_promocode

ActionView::TemplateError (undefined method `code' for #<HashWithIndifferentAccess:0x7fc2012e9440>) on line #3 of app/views/admin/view_promocode.html.erb:
1: 
2: <table>
3: 	<tr><td>Code:</td><td> <%=@prc.code%></td></tr>
4: 	<tr><td>Fecha de activaviÃ³n:</td><td><%=@prc.start_date %></td></tr>
5: 	<tr><td>Dias de validez:</td><td><%=@prc.days%></td></tr>
6: 	<tr><td>Valor:</td><td><%=@prc.value%></td></tr>

    app/views/admin/view_promocode.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (61.7ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#new_promocode (for 127.0.0.1 at 2011-02-27 12:36:01) [GET]
  [4;36;1mPromocode Columns (238.1ms)[0m   [0;1mSHOW FIELDS FROM `promocodes`[0m
Rendering template within layouts/admin
Rendering admin/new_promocode
Completed in 349ms (View: 83, DB: 238) | 200 OK [http://localhost/admin/new_promocode]
/home/zero/Projects/nopintasnada/app/controllers/admin_controller.rb:126
@prc=params[:promocode]
(rdb:2) params
{"commit"=>"Crear", "authenticity_token"=>"V0selDG33Yeb/42pTj4Wn+FDbFNGwgWmhoKLyvdR2xo=", "action"=>"view_promocode", "controller"=>"admin", "promocode"=>{"start_date(1i)"=>"2011", "start_date(2i)"=>"3", "code"=>"IYPXAXOO", "start_date(3i)"=>"26", "days"=>"", "value"=>""}}
(rdb:2) c
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#view_promocode (for 127.0.0.1 at 2011-02-27 12:36:05) [POST]
  Parameters: {"commit"=>"Crear", "authenticity_token"=>"V0selDG33Yeb/42pTj4Wn+FDbFNGwgWmhoKLyvdR2xo=", "promocode"=>{"start_date(1i)"=>"2011", "start_date(2i)"=>"3", "start_date(3i)"=>"26", "code"=>"IYPXAXOO", "days"=>"", "value"=>""}}
Rendering template within layouts/admin
Rendering admin/view_promocode

ActionView::TemplateError (undefined method `code' for #<HashWithIndifferentAccess:0x7fc201450d10>) on line #3 of app/views/admin/view_promocode.html.erb:
1: 
2: <table>
3: 	<tr><td>Code:</td><td> <%=@prc.code%></td></tr>
4: 	<tr><td>Fecha de activaviÃ³n:</td><td><%=@prc.start_date %></td></tr>
5: 	<tr><td>Dias de validez:</td><td><%=@prc.days%></td></tr>
6: 	<tr><td>Valor:</td><td><%=@prc.value%></td></tr>

    app/views/admin/view_promocode.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (61.6ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
/home/zero/Projects/nopintasnada/app/controllers/admin_controller.rb:126
@prc=params[:promocode]
(rdb:2) l
[121, 130] in /home/zero/Projects/nopintasnada/app/controllers/admin_controller.rb
   121  		@prc.start_date = Date.today
   122  	end
   123  
   124  	def view_promocode
   125  debugger
=> 126  		@prc=params[:promocode]
   127  	#	@prc.start_date=params[:start_date]
   128  	end
   129  private
   130  
(rdb:2) s[K@prc
nil
(rdb:2) s
(eval):1

(rdb:2) @prc
nil
(rdb:2) st
NameError Exception: undefined local variable or method `st' for #<AdminController:0x7fc201114430>
(rdb:2) h
ruby-debug help v0.10.3
Type 'help <command-name>' for help on a specific command

Available commands:
backtrace  delete   enable  help    next  quit     show    undisplay
break      disable  eval    info    p     reload   source  up       
catch      display  exit    irb     pp    restart  step    var      
condition  down     finish  list    ps    save     thread  where    
continue   edit     frame   method  putl  set      trace 

(rdb:2) step
/var/lib/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/hash/indifferent_access.rb:16
if key.is_a?(Symbol) && include?(key = key.to_s)
(rdb:2) @prc
nil
(rdb:2) l
[11, 20] in /var/lib/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/hash/indifferent_access.rb
   11        super(constructor)
   12      end
   13    end
   14  
   15    def default(key = nil)
=> 16      if key.is_a?(Symbol) && include?(key = key.to_s)
   17        self[key]
   18      else
   19        super
   20      end
(rdb:2) pp
nil
(rdb:2) n
/var/lib/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/hash/indifferent_access.rb:16
if key.is_a?(Symbol) && include?(key = key.to_s)
(rdb:2) n
/var/lib/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/hash/indifferent_access.rb:17
self[key]
(rdb:2) n
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332
default_render unless performed?
(rdb:2) n
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332
default_render unless performed?
(rdb:2) n
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:162
rescue_action(exception)
(rdb:2) n
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:152
if defined? @_flash
(rdb:2) n
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:534
send_response
(rdb:2) n
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:536
process_cleanup
(rdb:2) c
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#view_promocode (for 127.0.0.1 at 2011-02-27 12:36:31) [POST]
  Parameters: {"commit"=>"Crear", "authenticity_token"=>"V0selDG33Yeb/42pTj4Wn+FDbFNGwgWmhoKLyvdR2xo=", "promocode"=>{"start_date(1i)"=>"2011", "start_date(2i)"=>"3", "start_date(3i)"=>"26", "code"=>"IYPXAXOO", "days"=>"", "value"=>""}}
Rendering template within layouts/admin
Rendering admin/view_promocode

ActionView::TemplateError (undefined method `code' for #<HashWithIndifferentAccess:0x7fc201112f18>) on line #3 of app/views/admin/view_promocode.html.erb:
1: 
2: <table>
3: 	<tr><td>Code:</td><td> <%=@prc.code%></td></tr>
4: 	<tr><td>Fecha de activaviÃ³n:</td><td><%=@prc.start_date %></td></tr>
5: 	<tr><td>Dias de validez:</td><td><%=@prc.days%></td></tr>
6: 	<tr><td>Valor:</td><td><%=@prc.value%></td></tr>

    app/views/admin/view_promocode.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (140.3ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
/home/zero/Projects/nopintasnada/app/controllers/admin_controller.rb:126
@prc=params[:promocode]
(rdb:2) c[Ks[Kn
/var/lib/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332
default_render unless performed?
(rdb:2) p[K@prc
{"start_date(1i)"=>"2011", "start_date(2i)"=>"3", "code"=>"IYPXAXOO", "start_date(3i)"=>"26", "days"=>"", "value"=>""}
(rdb:2) @prc.start_date
NoMethodError Exception: undefined method `start_date' for #<HashWithIndifferentAccess:0x7fc2012d4928>
(rdb:2) @prc.code
NoMethodError Exception: undefined method `code' for #<HashWithIndifferentAccess:0x7fc2012d4928>
(rdb:2) @prc.code[K[K[K[K[K[:code]
"IYPXAXOO"
(rdb:2) @prc[:code][K[K[K[K[Kstart_date]
nil
(rdb:2) r[Kv[Kc
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAM